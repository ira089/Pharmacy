"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[542],{952:function(e,t,a){a.d(t,{Z:function(){return i}});a(2791);var r=a(5705),n="input_inputWrap__fccxa",s=a(3329),i=function(e){var t=e.name,a=e.placeholder,i=e.type,l=e.textLabel;return(0,s.jsxs)("div",{className:n,children:[(0,s.jsx)("label",{htmlFor:t,children:l}),(0,s.jsx)(r.gN,{id:t,name:t,placeholder:a,type:i}),(0,s.jsx)(r.Bc,{name:t,children:function(e){return(0,s.jsx)("span",{children:e})}})]})}},4542:function(e,t,a){a.r(t),a.d(t,{default:function(){return G}});var r=a(1413),n=a(9439),s=a(2791),i=a(4420),l=a(835),c=a(8956),o=a(9700),d=a(5705),u=a(5225),h=a(952),m="cartForm_form__pc8UU",_=a(3329),p=function(e){var t=e.handleChangeForm;return(0,_.jsx)(d.J9,{initialValues:{name:"",email:"",phone:"",address:""},validationSchema:u.rj,validateOnBlur:!0,validateOnChange:!0,onSubmit:function(e){t(e)},children:function(e){var t=e.handleSubmit;return(0,_.jsxs)(d.l0,{className:m,onBlur:t,children:[(0,_.jsx)(h.Z,{name:"name",placeholder:"Enter text",type:"text",textLabel:"Name"}),(0,_.jsx)(h.Z,{name:"email",placeholder:"Enter text",type:"email",textLabel:"Email"}),(0,_.jsx)(h.Z,{name:"phone",placeholder:"Enter text",type:"text",textLabel:"Phone"}),(0,_.jsx)(h.Z,{name:"address",placeholder:"Enter text",type:"text",textLabel:"Address"})]})}})},x=a(6506),f=a(6934),j=a(8291),g=a(8761),v=(0,f.ZP)(j.Z)({color:"rgba(18, 20, 23, 0.2)","&.Mui-checked":{color:"#59B17A"}}),y=(0,f.ZP)(g.Z)({"& .MuiFormControlLabel-label":{fontFamily:"Inter",fontWeight:"400",fontSize:"14px",color:"#1d1e21",lineHeight:"129%"}}),w=a(5847),Z="cartInfo_wrapText__SNbyV",N="cartInfo_title__zD9oT",b="cartInfo_text__bCY0L",P="cartInfo_wrapPayment__RqMOv",C="cartInfo_wrapTotal__zcXhr",q=function(e){var t=e.handleChange,a=e.handleChangeForm,r=e.total,n=e.onClick;return(0,_.jsxs)("div",{className:Z,children:[(0,_.jsx)("h4",{className:N,children:"Enter shipping info "}),(0,_.jsx)("p",{className:b,children:"Enter your delivery address where you get the product. You can also send any other location where you send the products."}),(0,_.jsx)(p,{handleChangeForm:a}),(0,_.jsxs)("div",{className:P,children:[(0,_.jsx)("h4",{className:N,children:"Payment method"}),(0,_.jsx)("p",{className:b,children:"You can pay us in a multiple way in our payment gateway system."}),(0,_.jsxs)(x.Z,{name:"payment",onChange:t,children:[(0,_.jsx)(y,{control:(0,_.jsx)(v,{}),value:"cash",label:"Cash On Delivery"}),(0,_.jsx)(y,{value:"bank",control:(0,_.jsx)(v,{}),label:"Bank"})]})]}),(0,_.jsx)("h4",{className:N,children:"Order details "}),(0,_.jsx)("p",{className:b,children:"Shipping and additionnal costs are calculated based on values you have entered."}),(0,_.jsxs)("div",{className:C,children:[(0,_.jsx)("h4",{className:N,children:"Total:"}),(0,_.jsxs)("h4",{className:N,children:["\u09f3 ",r]})]}),(0,_.jsx)(w.Z,{onClick:n,style:{color:"#fff",width:"141px",height:"44px"},children:"Place order"})]})},E=function(e){return e.orderItems},I=a(5212),k=a(4879),S=a(5131),B=a(9316),z="cartItem_wrapItem__mu9uf",A="cartItem_img__JskPA",F="cartItem_wrapText__seiU4",L="cartItem_text__z80B8",O="cartItem_price__5iBy6",R="cartItem_wrapBtn__ug-VH",T="cartItem_wrapCounter__sWzl2",Q="cartItem_btnRemore__5EWnw",M="cartItem_wrapTitle__CHwDR",Y="cartItem_title__u0IeA",$=function(e){var t=e.idProduct,a=e.quantity,r=e.idOrder,l=e._id,d=e.totalQuantity,u=e.total,h=(0,s.useRef)(!0),m=(0,i.I0)(),p=(0,s.useState)(a),x=(0,n.Z)(p,2),f=x[0],j=x[1],g=(0,s.useState)(u),v=(0,n.Z)(g,2),y=v[0],w=v[1],Z=(0,s.useState)(d),N=(0,n.Z)(Z,2),b=N[0],P=N[1];console.log(a),console.log(b),(0,s.useEffect)((function(){m((0,I.L)(t))}),[t]);var C=(0,i.v9)(k.n).products,q=Boolean(C.length)&&C.find((function(e){return e._id===t})),E=q.name,$=q.photo,D=q.price,H=q.category;(0,s.useEffect)((function(){h.current?h.current=!1:m((0,c.w)({idProduct:t,quantity:String(f),idOrder:r,id:l}))}),[f,l]),(0,s.useEffect)((function(){h.current?h.current=!1:m((0,o.Ze)({id:r,total:y,totalQuantity:b,status:"Pending"}))}),[y,b]);return(0,_.jsxs)("li",{className:z,children:[(0,_.jsx)("div",{children:(0,_.jsx)("img",{className:A,src:$,alt:"product"})}),(0,_.jsxs)("div",{className:F,children:[(0,_.jsxs)("div",{className:M,children:[(0,_.jsxs)("div",{className:Y,children:[(0,_.jsx)("h4",{children:E}),(0,_.jsx)("p",{className:L,children:H})]}),(0,_.jsxs)("p",{className:O,children:["\u09f3",D]})]}),(0,_.jsxs)("div",{className:R,children:[(0,_.jsxs)("div",{className:T,children:[(0,_.jsx)("button",{type:"submit",onClick:function(){j((function(e){return Number(e)+1})),P((0,B.MS)(d)),w((0,B.AN)(D,u))},children:(0,_.jsx)(S.Z,{width:18,height:18,name:"icon-plus-green"})}),(0,_.jsx)("span",{children:f}),(0,_.jsx)("button",{type:"submit",onClick:function(){1!==f&&(j((function(e){return e-1})),P((0,B.ty)(d)),w((0,B.DB)(D,u)))},children:(0,_.jsx)(S.Z,{width:18,height:18,name:"icon-minus-green"})})]}),(0,_.jsx)("button",{className:Q,onClick:function(){return e=l,m((0,c.lZ)(e)),P((0,B._R)(d,f)),void w((0,B.PJ)(D,u,f));var e},children:"Remove"})]})]})]})},D="cartProduts_list__mZclJ",H="cartProduts_text__+XF7j",J=function(e){var t=e.idOrder,a=e.totalQuantity,r=e.total,n=(0,i.v9)(E),s=n.cart,l=n.isLoading,c=n.error,o=Boolean(s.length);return console.log(s),(0,_.jsxs)(_.Fragment,{children:[l&&(0,_.jsx)("p",{children:"...Loading"}),c&&(0,_.jsx)("p",{children:c.message}),o?(0,_.jsx)("ul",{className:D,children:s.map((function(e){return(0,_.jsx)($,{idProduct:e.idProduct,_id:e._id,quantity:e.quantity,idOrder:t,total:r,totalQuantity:a},e._id)}))}):(0,_.jsx)("p",{className:H,children:"Sorry, there are no items in your cart."})]})},U=a(5985),W="cartPage_wrapCart__Ni01T",V="cartPage_title__z4IHU",X="cartPage_wrap__pZeNS",G=function(){var e=(0,i.I0)(),t=(0,i.v9)(l.zT),a=Boolean(t.length)&&t.find((function(e){return"Pending"===e.status})),d=a.totalQuantity,u=a.total,h=a._id;(0,s.useEffect)((function(){e((0,c.iy)(h))}),[h,e]);var m=(0,s.useState)(""),p=(0,n.Z)(m,2),x=p[0],f=p[1],j=(0,s.useState)({name:"",email:"",phone:"",address:""}),g=(0,n.Z)(j,2),v=g[0],y=g[1];console.log(v);var w=(0,r.Z)((0,r.Z)({},v),{},{paymentMethod:x,total:u,totalQuantity:d,status:"Confirmed",id:h});return(0,_.jsxs)("section",{className:W,children:[(0,_.jsx)("h2",{className:V,children:"Cart"}),(0,_.jsxs)("div",{className:X,children:[(0,_.jsx)(q,{total:u,handleChange:function(e){f(e.target.value)},handleChangeForm:function(e){y(e)},onClick:function(){console.log("\u0447\u0430\u043e \u043a\u0430\u043a\u043e\u043e"),e((0,o.Ze)(w)),e((0,o.Cg)()),U.Am.success("Your order has been accepted for processing")}}),(0,_.jsx)(J,{idOrder:h,totalQuantity:d,total:u})]})]})}},4879:function(e,t,a){a.d(t,{n:function(){return r}});var r=function(e){return e.products}},5225:function(e,t,a){a.d(t,{dm:function(){return s},gY:function(){return n},rj:function(){return i}});var r=a(8007),n=r.Ry().shape({name:r.Z_().required("Name is required"),email:r.Z_().matches(/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/,"Enter a valid Email").required("Email is required"),phone:r.Z_().matches(/^\+38\d{10}$/,"Enter a valid Phone"),password:r.Z_().min(7,"Password must be at least 7 characters").required("Password is required")}),s=r.Ry().shape({email:r.Z_().matches(/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/,"Enter a valid Email").required("Email is required"),password:r.Z_().min(7,"Password must be at least 7 characters").required("Password is required")}),i=r.Ry().shape({name:r.Z_().required("Name is required"),email:r.Z_().matches(/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/,"Enter a valid Email").required("Email is required"),phone:r.Z_().matches(/^\+38\d{10}$/,"Enter a valid Phone").required("Phone is required"),address:r.Z_().required("Address is required")})}}]);
//# sourceMappingURL=542.df6e1084.chunk.js.map