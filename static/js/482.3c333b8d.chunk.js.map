{"version":3,"file":"static/js/482.3c333b8d.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MedicineItem/medicineItem.module.css?4c70","components/MedicineItem/MedicineItem.jsx","webpack://react-homework-template/./src/pages/ProductPage/productPage.module.css?d8b4","webpack://react-homework-template/./src/components/ProductDetails/productDetails.module.css?c070","components/ProductDetails/ProductDetails.jsx","pages/ProductPage/ProductPage.jsx","redux/products/selectorProducts.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapProdukt\":\"medicineItem_wrapProdukt__xcv1W\",\"img\":\"medicineItem_img__LRJ5K\",\"wrapText\":\"medicineItem_wrapText__fR-Zm\",\"wrapName\":\"medicineItem_wrapName__azi3w\",\"wrapBtn\":\"medicineItem_wrapBtn__aQGMN\",\"link\":\"medicineItem_link__+Qbvn\",\"wrapCounter\":\"medicineItem_wrapCounter__a29g3\",\"horizontal\":\"medicineItem_horizontal__QeqSb\",\"verticalText\":\"medicineItem_verticalText__Nz3MB\",\"imgtId\":\"medicineItem_imgtId__8OIGK\",\"wrapTextId\":\"medicineItem_wrapTextId__73suR\",\"vertical\":\"medicineItem_vertical__b28tk\",\"horizontalText\":\"medicineItem_horizontalText__71-7q\"};","import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { addOrderItemThunk } from '../../redux/ordertItem/operationsOrdertItem';\nimport { orderUpdThunk } from '../../redux/auth/operationsAuth';\nimport { selectOrder, selectIsLoggedIn } from '../../redux/auth/selectorsAuth';\nimport Button from 'components/Button/Button';\nimport Icon from 'components/Icon/Icon';\nimport { toast } from 'react-toastify';\nimport styles from './medicineItem.module.css';\n\nconst MedicineItem = ({ item, isVariant }) => {\n  const dispatch = useDispatch();\n  const isLogin = useSelector(selectIsLoggedIn);\n  const order = useSelector(selectOrder);\n  const {\n    total,\n    totalQuantity,\n    _id: id,\n  } = isLogin && order.find(el => el.status === 'Pending');\n\n  const { variant } = isVariant;\n  const { photo, name, price, _id, suppliers } = item;\n  const priceRound = Math.round(price);\n\n  const [counter, setCounter] = useState(1);\n\n  const counterPlus = () => {\n    if (!isLogin) {\n      toast.error('The service is available only to authorized users');\n      return;\n    }\n    setCounter(prevCounter => prevCounter + 1);\n  };\n\n  const counterMinus = () => {\n    if (!isLogin) {\n      toast.error('The service is available only to authorized users');\n      return;\n    }\n    if (counter === 1) {\n      return;\n    }\n    setCounter(prevCounter => prevCounter - 1);\n  };\n\n  const addToCart = counter => {\n    if (!isLogin) {\n      toast.error('The service is available only to authorized users');\n      return;\n    }\n    const newTotalQuantity = String(Number(totalQuantity) + Number(counter));\n    const numberTotal = String(counter * price + Number(total));\n    const newTotal = String(Math.round(numberTotal * 100) / 100);\n\n    dispatch(\n      addOrderItemThunk({\n        idOrder: id,\n        idProduct: _id,\n        quantity: String(counter),\n      })\n    );\n    dispatch(\n      orderUpdThunk({\n        id: id,\n        total: newTotal,\n        totalQuantity: newTotalQuantity,\n        status: 'Pending',\n      })\n    );\n  };\n\n  return (\n    <div\n      className={`${styles.wrapProdukt} ${\n        variant ? styles.horizontal : styles.vertical\n      }`}\n    >\n      <img\n        className={`${styles.img} ${variant && styles.imgtId}`}\n        src={photo}\n        alt=\"medicine\"\n      />\n      <div className={`${styles.wrapText} ${variant && styles.wrapTextId}`}>\n        <div\n          className={`${styles.wrapName} ${\n            variant ? styles.verticalText : styles.horizontalText\n          }`}\n        >\n          <div>\n            <h5>{name}</h5>\n            <p>{suppliers}</p>\n          </div>\n          <h5>à§³{priceRound}</h5>\n        </div>\n        {variant ? (\n          <div className={styles.wrapBtn}>\n            <div className={styles.wrapCounter}>\n              <button onClick={counterPlus}>\n                <Icon\n                  className={styles.icon}\n                  width={20}\n                  height={20}\n                  name={'icon-plus-green'}\n                />\n              </button>\n              <span>{counter}</span>\n              <button onClick={counterMinus}>\n                <Icon width={20} height={20} name={'icon-minus-green'} />\n              </button>\n            </div>\n            <Button\n              onClick={() => addToCart(counter)}\n              style={{ color: '#fff', width: '140px', height: '44px' }}\n            >\n              Add to cart\n            </Button>\n          </div>\n        ) : (\n          <div className={styles.wrapBtn}>\n            <Button\n              onClick={() => addToCart(counter)}\n              style={{ color: '#fff', width: '108px', height: '34px' }}\n            >\n              Add to cart\n            </Button>\n            <NavLink className={styles.link} to={`/produst/${_id}`}>\n              Details\n            </NavLink>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default MedicineItem;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapProduct\":\"productPage_wrapProduct__cZ9zo\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrap\":\"productDetails_wrap__evChu\",\"wrapTab\":\"productDetails_wrapTab__hzCRV\",\"tabDescription\":\"productDetails_tabDescription__N19hH\",\"tabReviews\":\"productDetails_tabReviews__4KcaE\",\"activeTab\":\"productDetails_activeTab__NNiQ8\"};","import React, { useState } from 'react';\nimport styles from './productDetails.module.css';\n\nconst ProductDetails = ({ item }) => {\n  const { description, reviews } = item;\n  const isDescription = Boolean(description);\n  const isReviews = Boolean(reviews?.length);\n\n  const [activeTab, setActiveTab] = useState('tabDescription');\n  const handleTabClick = tab => {\n    setActiveTab(tab);\n  };\n\n  return (\n    <div className={styles.wrap}>\n      <div className={styles.wrapTab}>\n        <button\n          autoFocus\n          className={`${styles.tabDescription} ${\n            activeTab === 'tabDescription' ? styles.activeTab : ''\n          }`}\n          onClick={() => handleTabClick('tabDescription')}\n        >\n          Description\n        </button>\n        <button\n          className={styles.tabReviews}\n          onClick={() => handleTabClick('tabReviews')}\n        >\n          Reviews\n        </button>\n      </div>\n      {activeTab === 'tabDescription' &&\n        (isDescription ? (\n          <p>{description}</p>\n        ) : (\n          <p>Description of this product not found</p>\n        ))}\n      {activeTab === 'tabReviews' &&\n        (isReviews ? (\n          <p>{reviews}</p>\n        ) : (\n          <p>No reviews found for this product</p>\n        ))}\n    </div>\n  );\n};\n\nexport default ProductDetails;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { productsIdThunk } from '../../redux/products/operationsProducts';\nimport { selectProducts } from '../../redux/products/selectorProducts';\nimport MedicineItem from 'components/MedicineItem/MedicineItem';\nimport styles from './productPage.module.css';\nimport ProductDetails from 'components/ProductDetails/ProductDetails';\n\nconst ProductPage = () => {\n  const dispatch = useDispatch();\n  const isVariant = { variant: true };\n  const { id } = useParams();\n\n  useEffect(() => {\n    dispatch(productsIdThunk(id));\n  }, [dispatch, id]);\n\n  const { products } = useSelector(selectProducts);\n  const productId = products?.find(el => el._id === id);\n\n  return (\n    <section className={styles.wrapProduct}>\n      <MedicineItem item={productId} isVariant={isVariant} />\n      <ProductDetails item={productId} />\n    </section>\n  );\n};\n\nexport default ProductPage;\n","export const selectProducts = state => state.products;\n\n"],"names":["_ref","item","isVariant","dispatch","useDispatch","isLogin","useSelector","selectIsLoggedIn","order","selectOrder","_ref2","find","el","status","total","totalQuantity","id","_id","variant","photo","name","price","suppliers","priceRound","Math","round","_useState","useState","_useState2","_slicedToArray","counter","setCounter","addToCart","newTotalQuantity","String","Number","numberTotal","newTotal","addOrderItemThunk","idOrder","idProduct","quantity","orderUpdThunk","toast","_jsxs","className","concat","styles","children","_jsx","src","alt","onClick","prevCounter","Icon","width","height","Button","style","color","NavLink","to","description","reviews","isDescription","Boolean","isReviews","length","activeTab","setActiveTab","handleTabClick","tab","autoFocus","useParams","useEffect","productsIdThunk","products","selectProducts","productId","MedicineItem","ProductDetails","state"],"sourceRoot":""}