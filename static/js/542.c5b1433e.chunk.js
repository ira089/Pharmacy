"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[542],{952:function(e,t,r){r.d(t,{Z:function(){return i}});r(2791);var a=r(5705),n="input_inputWrap__fccxa",s=r(3329),i=function(e){var t=e.name,r=e.placeholder,i=e.type,c=e.textLabel;return(0,s.jsxs)("div",{className:n,children:[(0,s.jsx)("label",{htmlFor:t,children:c}),(0,s.jsx)(a.gN,{id:t,name:t,placeholder:r,type:i}),(0,s.jsx)(a.Bc,{name:t,children:function(e){return(0,s.jsx)("span",{children:e})}})]})}},4542:function(e,t,r){r.r(t),r.d(t,{default:function(){return G}});var a=r(1413),n=r(9439),s=r(2791),i=r(4420),c=r(835),l=r(8956),o=r(9700),d=r(5705),u=r(5225),m=r(952),h="cartForm_form__pc8UU",_=r(3329),p=function(e){var t=e.handleChangeForm;return(0,_.jsx)(d.J9,{initialValues:{name:"",email:"",phone:"",address:""},validationSchema:u.rj,validateOnBlur:!0,validateOnChange:!0,onSubmit:function(e){t(e)},children:function(e){var t=e.handleSubmit;return(0,_.jsxs)(d.l0,{className:h,onBlur:t,children:[(0,_.jsx)(m.Z,{name:"name",placeholder:"Enter text",type:"text",textLabel:"Name"}),(0,_.jsx)(m.Z,{name:"email",placeholder:"Enter text",type:"email",textLabel:"Email"}),(0,_.jsx)(m.Z,{name:"phone",placeholder:"Enter text",type:"text",textLabel:"Phone"}),(0,_.jsx)(m.Z,{name:"address",placeholder:"Enter text",type:"text",textLabel:"Address"})]})}})},x=r(6506),f=r(6934),j=r(8291),g=r(8761),v=(0,f.ZP)(j.Z)({color:"rgba(18, 20, 23, 0.2)","&.Mui-checked":{color:"#59B17A"}}),y=(0,f.ZP)(g.Z)({"& .MuiFormControlLabel-label":{fontFamily:"Inter",fontWeight:"400",fontSize:"14px",color:"#1d1e21",lineHeight:"129%"}}),w=r(5847),N="cartInfo_wrapText__SNbyV",Z="cartInfo_title__zD9oT",b="cartInfo_text__bCY0L",P="cartInfo_wrapPayment__RqMOv",C="cartInfo_wrapTotal__zcXhr",I=function(e){var t=e.handleChange,r=e.handleChangeForm,a=e.total,n=e.onClick;return(0,_.jsxs)("div",{className:N,children:[(0,_.jsx)("h4",{className:Z,children:"Enter shipping info "}),(0,_.jsx)("p",{className:b,children:"Enter your delivery address where you get the product. You can also send any other location where you send the products."}),(0,_.jsx)(p,{handleChangeForm:r}),(0,_.jsxs)("div",{className:P,children:[(0,_.jsx)("h4",{className:Z,children:"Payment method"}),(0,_.jsx)("p",{className:b,children:"You can pay us in a multiple way in our payment gateway system."}),(0,_.jsxs)(x.Z,{name:"payment",onChange:t,children:[(0,_.jsx)(y,{control:(0,_.jsx)(v,{}),value:"cash",label:"Cash On Delivery"}),(0,_.jsx)(y,{value:"bank",control:(0,_.jsx)(v,{}),label:"Bank"})]})]}),(0,_.jsx)("h4",{className:Z,children:"Order details "}),(0,_.jsx)("p",{className:b,children:"Shipping and additionnal costs are calculated based on values you have entered."}),(0,_.jsxs)("div",{className:C,children:[(0,_.jsx)("h4",{className:Z,children:"Total:"}),(0,_.jsxs)("h4",{className:Z,children:["\u09f3 ",a]})]}),(0,_.jsx)(w.Z,{onClick:n,style:{color:"#fff",width:"141px",height:"44px"},children:"Place order"})]})},q=function(e){return e.orderItems},E=r(5212),k=r(4879),S=r(5131),B=r(9316),O="cartItem_wrapItem__mu9uf",z="cartItem_img__JskPA",A="cartItem_wrapText__seiU4",F="cartItem_text__z80B8",L="cartItem_price__5iBy6",R="cartItem_wrapBtn__ug-VH",T="cartItem_wrapCounter__sWzl2",Q="cartItem_btnRemore__5EWnw",U="cartItem_wrapTitle__CHwDR",Y="cartItem_title__u0IeA",$=function(e){var t=e.idProduct,r=e.quantity,a=e.idOrder,c=e._id,d=e.totalQuantity,u=e.total,m=(0,s.useRef)(!1),h=(0,i.I0)(),p=(0,s.useState)(r),x=(0,n.Z)(p,2),f=x[0],j=x[1],g=(0,s.useState)(u),v=(0,n.Z)(g,2),y=v[0],w=v[1],N=(0,s.useState)(d),Z=(0,n.Z)(N,2),b=Z[0],P=Z[1];console.log(u),console.log(d),console.log(y),console.log(b),(0,s.useEffect)((function(){console.log("productsId"),h((0,E.L)(t))}),[t]);var C=(0,i.v9)(k.n).products,I=Boolean(C.length)&&C.find((function(e){return e._id===t})),q=I.name,$=I.photo,D=I.price,H=I.category;(0,s.useEffect)((function(){m.current&&(console.log("updOrderItem"),h((0,l.w)({idProduct:t,quantity:String(f),idOrder:a,id:c}))),m.current=!0}),[f,t]),(0,s.useEffect)((function(){m.current&&(console.log("orderUpd"),h((0,o.Ze)({id:a,total:y,totalQuantity:String(b),status:"Pending"}))),m.current=!0}),[y,b]);return(0,_.jsxs)("li",{className:O,children:[(0,_.jsx)("div",{children:(0,_.jsx)("img",{className:z,src:$,alt:"product"})}),(0,_.jsxs)("div",{className:A,children:[(0,_.jsxs)("div",{className:U,children:[(0,_.jsxs)("div",{className:Y,children:[(0,_.jsx)("h4",{children:q}),(0,_.jsx)("p",{className:F,children:H})]}),(0,_.jsxs)("p",{className:L,children:["\u09f3",D]})]}),(0,_.jsxs)("div",{className:R,children:[(0,_.jsxs)("div",{className:T,children:[(0,_.jsx)("button",{type:"submit",onClick:function(){j((function(e){return Number(e)+1})),P((function(e){return Number(e)+1})),w((function(e){return(0,B.AN)(D,e)}))},children:(0,_.jsx)(S.Z,{width:18,height:18,name:"icon-plus-green"})}),(0,_.jsx)("span",{children:f}),(0,_.jsx)("button",{type:"submit",onClick:function(){1!==f&&(j((function(e){return e-1})),P((function(e){return Number(e)-1})),w((function(e){return(0,B.DB)(D,e)})))},children:(0,_.jsx)(S.Z,{width:18,height:18,name:"icon-minus-green"})})]}),(0,_.jsx)("button",{className:Q,onClick:function(){return e=c,h((0,l.lZ)(e)),P((function(e){return(0,B._R)(e,f)})),void w((function(e){return(0,B.PJ)(D,e,f)}));var e},children:"Remove"})]})]})]})},D="cartProduts_list__mZclJ",H="cartProduts_text__+XF7j",J=function(e){var t=e.idOrder,r=e.totalQuantity,a=e.total,n=(0,i.v9)(q),s=n.cart,c=n.isLoading,l=n.error,o=Boolean(s.length);return(0,_.jsxs)(_.Fragment,{children:[c&&(0,_.jsx)("p",{children:"...Loading"}),l&&(0,_.jsx)("p",{children:l.message}),o?(0,_.jsx)("ul",{className:D,children:s.map((function(e){return(0,_.jsx)($,{idProduct:e.idProduct,_id:e._id,quantity:e.quantity,idOrder:t,total:a,totalQuantity:r},e._id)}))}):(0,_.jsx)("p",{className:H,children:"Sorry, there are no items in your cart."})]})},M=r(5985),W="cartPage_wrapCart__Ni01T",V="cartPage_title__z4IHU",X="cartPage_wrap__pZeNS",G=function(){var e=(0,i.I0)(),t=(0,i.v9)(c.zT);console.log(t);var r=t[0],d=r.totalQuantity,u=r.total,m=r._id;console.log(m),(0,s.useEffect)((function(){e((0,l.iy)(m))}),[m,e]);var h=(0,s.useState)(""),p=(0,n.Z)(h,2),x=p[0],f=p[1],j=(0,s.useState)({name:"",email:"",phone:"",address:""}),g=(0,n.Z)(j,2),v=g[0],y=g[1],w=(0,a.Z)((0,a.Z)({},v),{},{paymentMethod:x,total:u,totalQuantity:d,status:"Confirmed",id:m});return(0,_.jsxs)("section",{className:W,children:[(0,_.jsx)("h2",{className:V,children:"Cart"}),(0,_.jsxs)("div",{className:X,children:[(0,_.jsx)(I,{total:u,handleChange:function(e){f(e.target.value)},handleChangeForm:function(e){y(e)},onClick:function(){e((0,o.Ze)(w)),M.Am.success("Your order has been accepted for processing")}}),(0,_.jsx)(J,{idOrder:m,totalQuantity:d,total:u})]})]})}},4879:function(e,t,r){r.d(t,{n:function(){return a}});var a=function(e){return e.products}},5225:function(e,t,r){r.d(t,{dm:function(){return s},gY:function(){return n},rj:function(){return i}});var a=r(8007),n=a.Ry().shape({name:a.Z_().required("Name is required"),email:a.Z_().matches(/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/,"Enter a valid Email").required("Email is required"),phone:a.Z_().matches(/^\+38\d{10}$/,"Enter a valid Phone"),password:a.Z_().min(7,"Password must be at least 7 characters").required("Password is required")}),s=a.Ry().shape({email:a.Z_().matches(/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/,"Enter a valid Email").required("Email is required"),password:a.Z_().min(7,"Password must be at least 7 characters").required("Password is required")}),i=a.Ry().shape({name:a.Z_().required("Name is required"),email:a.Z_().matches(/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/,"Enter a valid Email").required("Email is required"),phone:a.Z_().matches(/^\+38\d{10}$/,"Enter a valid Phone").required("Phone is required"),address:a.Z_().required("Address is required")})}}]);
//# sourceMappingURL=542.c5b1433e.chunk.js.map