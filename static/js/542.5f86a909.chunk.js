"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[542],{952:function(e,t,a){a.d(t,{Z:function(){return s}});a(2791);var r=a(5705),n="input_inputWrap__fccxa",i=a(3329),s=function(e){var t=e.name,a=e.placeholder,s=e.type,l=e.textLabel;return(0,i.jsxs)("div",{className:n,children:[(0,i.jsx)("label",{htmlFor:t,children:l}),(0,i.jsx)(r.gN,{id:t,name:t,placeholder:a,type:s}),(0,i.jsx)(r.Bc,{name:t,children:function(e){return(0,i.jsx)("span",{children:e})}})]})}},4542:function(e,t,a){a.r(t),a.d(t,{default:function(){return G}});var r=a(1413),n=a(9439),i=a(2791),s=a(4420),l=a(835),c=a(8956),o=a(9700),d=a(5705),u=a(5225),h=a(952),m="cartForm_form__pc8UU",_=a(3329),p=function(e){var t=e.handleChangeForm;return(0,_.jsx)(d.J9,{initialValues:{name:"",email:"",phone:"",address:""},validationSchema:u.rj,validateOnBlur:!0,validateOnChange:!0,onSubmit:function(e){t(e)},children:function(e){var t=e.handleSubmit;return(0,_.jsxs)(d.l0,{className:m,onBlur:t,children:[(0,_.jsx)(h.Z,{name:"name",placeholder:"Enter text",type:"text",textLabel:"Name"}),(0,_.jsx)(h.Z,{name:"email",placeholder:"Enter text",type:"email",textLabel:"Email"}),(0,_.jsx)(h.Z,{name:"phone",placeholder:"Enter text",type:"text",textLabel:"Phone"}),(0,_.jsx)(h.Z,{name:"address",placeholder:"Enter text",type:"text",textLabel:"Address"})]})}})},x=a(6506),f=a(6934),j=a(8291),g=a(8761),v=(0,f.ZP)(j.Z)({color:"rgba(18, 20, 23, 0.2)","&.Mui-checked":{color:"#59B17A"}}),y=(0,f.ZP)(g.Z)({"& .MuiFormControlLabel-label":{fontFamily:"Inter",fontWeight:"400",fontSize:"14px",color:"#1d1e21",lineHeight:"129%"}}),w=a(5847),N="cartInfo_wrapText__SNbyV",Z="cartInfo_title__zD9oT",b="cartInfo_text__bCY0L",P="cartInfo_wrapPayment__RqMOv",C="cartInfo_wrapTotal__zcXhr",I=function(e){var t=e.handleChange,a=e.handleChangeForm,r=e.total,n=e.onClick;return(0,_.jsxs)("div",{className:N,children:[(0,_.jsx)("h4",{className:Z,children:"Enter shipping info "}),(0,_.jsx)("p",{className:b,children:"Enter your delivery address where you get the product. You can also send any other location where you send the products."}),(0,_.jsx)(p,{handleChangeForm:a}),(0,_.jsxs)("div",{className:P,children:[(0,_.jsx)("h4",{className:Z,children:"Payment method"}),(0,_.jsx)("p",{className:b,children:"You can pay us in a multiple way in our payment gateway system."}),(0,_.jsxs)(x.Z,{name:"payment",onChange:t,children:[(0,_.jsx)(y,{control:(0,_.jsx)(v,{}),value:"cash",label:"Cash On Delivery"}),(0,_.jsx)(y,{value:"bank",control:(0,_.jsx)(v,{}),label:"Bank"})]})]}),(0,_.jsx)("h4",{className:Z,children:"Order details "}),(0,_.jsx)("p",{className:b,children:"Shipping and additionnal costs are calculated based on values you have entered."}),(0,_.jsxs)("div",{className:C,children:[(0,_.jsx)("h4",{className:Z,children:"Total:"}),(0,_.jsxs)("h4",{className:Z,children:["\u09f3 ",r]})]}),(0,_.jsx)(w.Z,{onClick:n,style:{color:"#fff",width:"141px",height:"44px"},children:"Place order"})]})},q=function(e){return e.orderItems},E=a(5212),k=a(4879),S=a(5131),B=a(9316),O="cartItem_wrapItem__mu9uf",z="cartItem_img__JskPA",A="cartItem_wrapText__seiU4",F="cartItem_text__z80B8",L="cartItem_price__5iBy6",R="cartItem_wrapBtn__ug-VH",T="cartItem_wrapCounter__sWzl2",Q="cartItem_btnRemore__5EWnw",Y="cartItem_wrapTitle__CHwDR",$="cartItem_title__u0IeA",D=function(e){var t=e.idProduct,a=e.quantity,r=e.idOrder,l=e._id,d=e.totalQuantity,u=e.total,h=(0,s.I0)(),m=(0,i.useState)(a),p=(0,n.Z)(m,2),x=p[0],f=p[1],j=(0,i.useState)(u),g=(0,n.Z)(j,2),v=g[0],y=g[1],w=(0,i.useState)(d),N=(0,n.Z)(w,2),Z=N[0],b=N[1];console.log(a),(0,i.useEffect)((function(){console.log("productsId"),h((0,E.L)(t))}),[t]);var P=(0,s.v9)(k.n).products,C=Boolean(P.length)&&P.find((function(e){return e._id===t}));console.log(C);var I=C.name,q=C.photo,D=C.price,H=C.category;return(0,_.jsxs)("li",{className:O,children:[(0,_.jsx)("div",{children:(0,_.jsx)("img",{className:z,src:q,alt:"product"})}),(0,_.jsxs)("div",{className:A,children:[(0,_.jsxs)("div",{className:Y,children:[(0,_.jsxs)("div",{className:$,children:[(0,_.jsx)("h4",{children:I}),(0,_.jsx)("p",{className:F,children:H})]}),(0,_.jsxs)("p",{className:L,children:["\u09f3",D]})]}),(0,_.jsxs)("div",{className:R,children:[(0,_.jsxs)("div",{className:T,children:[(0,_.jsx)("button",{type:"submit",onClick:function(){f((function(e){return Number(e)+1})),b((function(e){return Number(e)+1})),y((function(e){return(0,B.AN)(D,e)})),console.log("updOrderItem"),h((0,c.w)({idProduct:t,quantity:String(x),idOrder:r,id:l})),h((0,o.Ze)({id:r,total:v,totalQuantity:String(Z),status:"Pending"}))},children:(0,_.jsx)(S.Z,{width:18,height:18,name:"icon-plus-green"})}),(0,_.jsx)("span",{children:x}),(0,_.jsx)("button",{type:"submit",onClick:function(){1!==x&&(f((function(e){return e-1})),b((function(e){return Number(e)-1})),y((function(e){return(0,B.DB)(D,e)})))},children:(0,_.jsx)(S.Z,{width:18,height:18,name:"icon-minus-green"})})]}),(0,_.jsx)("button",{className:Q,onClick:function(){return b((0,B._R)(d,x)),void y((0,B.PJ)(D,u,x))},children:"Remove"})]})]})]})},H="cartProduts_list__mZclJ",J="cartProduts_text__+XF7j",M=function(e){var t=e.idOrder,a=e.totalQuantity,r=e.total,n=(0,s.v9)(q),i=n.cart,l=n.isLoading,c=n.error,o=Boolean(i.length);return(0,_.jsxs)(_.Fragment,{children:[l&&(0,_.jsx)("p",{children:"...Loading"}),c&&(0,_.jsx)("p",{children:c.message}),o?(0,_.jsx)("ul",{className:H,children:i.map((function(e){return(0,_.jsx)(D,{idProduct:e.idProduct,_id:e._id,quantity:e.quantity,idOrder:t,total:r,totalQuantity:a},e._id)}))}):(0,_.jsx)("p",{className:J,children:"Sorry, there are no items in your cart."})]})},U=a(5985),W="cartPage_wrapCart__Ni01T",V="cartPage_title__z4IHU",X="cartPage_wrap__pZeNS",G=function(){var e=(0,s.I0)(),t=(0,s.v9)(l.zT),a=Boolean(t.length)&&t.find((function(e){return"Pending"===e.status})),d=a.totalQuantity,u=a.total,h=a._id;(0,i.useEffect)((function(){e((0,c.iy)(h))}),[h,e]);var m=(0,i.useState)(""),p=(0,n.Z)(m,2),x=p[0],f=p[1],j=(0,i.useState)({name:"",email:"",phone:"",address:""}),g=(0,n.Z)(j,2),v=g[0],y=g[1],w=(0,r.Z)((0,r.Z)({},v),{},{paymentMethod:x,total:u,totalQuantity:d,status:"Confirmed",id:h});return(0,_.jsxs)("section",{className:W,children:[(0,_.jsx)("h2",{className:V,children:"Cart"}),(0,_.jsxs)("div",{className:X,children:[(0,_.jsx)(I,{total:u,handleChange:function(e){f(e.target.value)},handleChangeForm:function(e){y(e)},onClick:function(){e((0,o.Ze)(w)),U.Am.success("Your order has been accepted for processing")}}),(0,_.jsx)(M,{idOrder:h,totalQuantity:d,total:u})]})]})}},4879:function(e,t,a){a.d(t,{n:function(){return r}});var r=function(e){return e.products}},5225:function(e,t,a){a.d(t,{dm:function(){return i},gY:function(){return n},rj:function(){return s}});var r=a(8007),n=r.Ry().shape({name:r.Z_().required("Name is required"),email:r.Z_().matches(/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/,"Enter a valid Email").required("Email is required"),phone:r.Z_().matches(/^\+38\d{10}$/,"Enter a valid Phone"),password:r.Z_().min(7,"Password must be at least 7 characters").required("Password is required")}),i=r.Ry().shape({email:r.Z_().matches(/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/,"Enter a valid Email").required("Email is required"),password:r.Z_().min(7,"Password must be at least 7 characters").required("Password is required")}),s=r.Ry().shape({name:r.Z_().required("Name is required"),email:r.Z_().matches(/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/,"Enter a valid Email").required("Email is required"),phone:r.Z_().matches(/^\+38\d{10}$/,"Enter a valid Phone").required("Phone is required"),address:r.Z_().required("Address is required")})}}]);
//# sourceMappingURL=542.5f86a909.chunk.js.map